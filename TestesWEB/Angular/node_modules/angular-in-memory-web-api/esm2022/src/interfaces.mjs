import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * Interface for a class that creates an in-memory database
 *
 * Its `createDb` method creates a hash of named collections that represents the database
 *
 * For maximum flexibility, the service may define HTTP method overrides.
 * Such methods must match the spelling of an HTTP method in lower case (e.g, "get").
 * If a request has a matching method, it will be called as in
 * `get(info: requestInfo, db: {})` where `db` is the database object described above.
 */
export class InMemoryDbService {
}
/**
 * Interface for InMemoryBackend configuration options
 */
export class InMemoryBackendConfigArgs {
}
/////////////////////////////////
/**
 *  InMemoryBackendService configuration options
 *  Usage:
 *    InMemoryWebApiModule.forRoot(InMemHeroService, {delay: 600})
 *
 *  or if providing separately:
 *    provide(InMemoryBackendConfig, {useValue: {delay: 600}}),
 */
export class InMemoryBackendConfig {
    constructor(config = {}) {
        Object.assign(this, {
            // default config:
            caseSensitiveSearch: false,
            dataEncapsulation: false,
            delay: 500,
            delete404: false,
            passThruUnknownUrl: false,
            post204: true,
            post409: false,
            put204: true,
            put404: false,
            apiBase: undefined,
            host: undefined,
            rootPath: undefined // default value is actually set in InMemoryBackendService ctor
        }, config);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig, deps: [{ token: InMemoryBackendConfigArgs }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "0.0.0", ngImport: i0, type: InMemoryBackendConfig, decorators: [{
            type: Injectable
        }], ctorParameters: () => [{ type: InMemoryBackendConfigArgs }] });
/** Return information (UriInfo) about a URI  */
export function parseUri(str) {
    // Adapted from parseuri package - http://blog.stevenlevithan.com/archives/parseuri
    // tslint:disable-next-line:max-line-length
    const URL_REGEX = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
    const m = URL_REGEX.exec(str);
    const uri = {
        source: '',
        protocol: '',
        authority: '',
        userInfo: '',
        user: '',
        password: '',
        host: '',
        port: '',
        relative: '',
        path: '',
        directory: '',
        file: '',
        query: '',
        anchor: ''
    };
    const keys = Object.keys(uri);
    let i = keys.length;
    while (i--) {
        uri[keys[i]] = m && m[i] || '';
    }
    return uri;
}
export function removeTrailingSlash(path) {
    return path.replace(/\/$/, '');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL21pc2MvYW5ndWxhci1pbi1tZW1vcnktd2ViLWFwaS9zcmMvaW50ZXJmYWNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTQSxPQUFPLEVBQUMsVUFBVSxFQUFDLE1BQU0sZUFBZSxDQUFDOztBQUd6Qzs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFNLE9BQWdCLGlCQUFpQjtDQWlCdEM7QUFFRDs7R0FFRztBQUNILE1BQU0sT0FBZ0IseUJBQXlCO0NBbUQ5QztBQUVELGlDQUFpQztBQUNqQzs7Ozs7OztHQU9HO0FBRUgsTUFBTSxPQUFPLHFCQUFxQjtJQUNoQyxZQUFZLFNBQW9DLEVBQUU7UUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FDVCxJQUFJLEVBQUU7WUFDSixrQkFBa0I7WUFDbEIsbUJBQW1CLEVBQUUsS0FBSztZQUMxQixpQkFBaUIsRUFBRSxLQUFLO1lBQ3hCLEtBQUssRUFBRSxHQUFHO1lBQ1YsU0FBUyxFQUFFLEtBQUs7WUFDaEIsa0JBQWtCLEVBQUUsS0FBSztZQUN6QixPQUFPLEVBQUUsSUFBSTtZQUNiLE9BQU8sRUFBRSxLQUFLO1lBQ2QsTUFBTSxFQUFFLElBQUk7WUFDWixNQUFNLEVBQUUsS0FBSztZQUNiLE9BQU8sRUFBRSxTQUFTO1lBQ2xCLElBQUksRUFBRSxTQUFTO1lBQ2YsUUFBUSxFQUFFLFNBQVMsQ0FBRSwrREFBK0Q7U0FDckYsRUFDRCxNQUFNLENBQUMsQ0FBQztJQUNkLENBQUM7eUhBbkJVLHFCQUFxQjs2SEFBckIscUJBQXFCOztzR0FBckIscUJBQXFCO2tCQURqQyxVQUFVOztBQXVCWCxnREFBZ0Q7QUFDaEQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxHQUFXO0lBQ2xDLG1GQUFtRjtJQUNuRiwyQ0FBMkM7SUFDM0MsTUFBTSxTQUFTLEdBQ1gsa01BQWtNLENBQUM7SUFDdk0sTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixNQUFNLEdBQUcsR0FBb0M7UUFDM0MsTUFBTSxFQUFFLEVBQUU7UUFDVixRQUFRLEVBQUUsRUFBRTtRQUNaLFNBQVMsRUFBRSxFQUFFO1FBQ2IsUUFBUSxFQUFFLEVBQUU7UUFDWixJQUFJLEVBQUUsRUFBRTtRQUNSLFFBQVEsRUFBRSxFQUFFO1FBQ1osSUFBSSxFQUFFLEVBQUU7UUFDUixJQUFJLEVBQUUsRUFBRTtRQUNSLFFBQVEsRUFBRSxFQUFFO1FBQ1osSUFBSSxFQUFFLEVBQUU7UUFDUixTQUFTLEVBQUUsRUFBRTtRQUNiLElBQUksRUFBRSxFQUFFO1FBQ1IsS0FBSyxFQUFFLEVBQUU7UUFDVCxNQUFNLEVBQUUsRUFBRTtLQUNYLENBQUM7SUFDRixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFFcEIsT0FBTyxDQUFDLEVBQUUsRUFBRTtRQUNWLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztLQUNoQztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQTZCRCxNQUFNLFVBQVUsbUJBQW1CLENBQUMsSUFBWTtJQUM5QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2pDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHtIdHRwSGVhZGVyc30gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBhIGNsYXNzIHRoYXQgY3JlYXRlcyBhbiBpbi1tZW1vcnkgZGF0YWJhc2VcbiAqXG4gKiBJdHMgYGNyZWF0ZURiYCBtZXRob2QgY3JlYXRlcyBhIGhhc2ggb2YgbmFtZWQgY29sbGVjdGlvbnMgdGhhdCByZXByZXNlbnRzIHRoZSBkYXRhYmFzZVxuICpcbiAqIEZvciBtYXhpbXVtIGZsZXhpYmlsaXR5LCB0aGUgc2VydmljZSBtYXkgZGVmaW5lIEhUVFAgbWV0aG9kIG92ZXJyaWRlcy5cbiAqIFN1Y2ggbWV0aG9kcyBtdXN0IG1hdGNoIHRoZSBzcGVsbGluZyBvZiBhbiBIVFRQIG1ldGhvZCBpbiBsb3dlciBjYXNlIChlLmcsIFwiZ2V0XCIpLlxuICogSWYgYSByZXF1ZXN0IGhhcyBhIG1hdGNoaW5nIG1ldGhvZCwgaXQgd2lsbCBiZSBjYWxsZWQgYXMgaW5cbiAqIGBnZXQoaW5mbzogcmVxdWVzdEluZm8sIGRiOiB7fSlgIHdoZXJlIGBkYmAgaXMgdGhlIGRhdGFiYXNlIG9iamVjdCBkZXNjcmliZWQgYWJvdmUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbk1lbW9yeURiU2VydmljZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluLW1lbW9yeSBcImRhdGFiYXNlXCIgaGFzaCB3aG9zZSBrZXlzIGFyZSBjb2xsZWN0aW9uIG5hbWVzXG4gICAqIGFuZCB3aG9zZSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb2xsZWN0aW9uIG9iamVjdHMgdG8gcmV0dXJuIG9yIHVwZGF0ZS5cbiAgICpcbiAgICogcmV0dXJucyBPYnNlcnZhYmxlIG9mIHRoZSBkYXRhYmFzZSBiZWNhdXNlIGNvdWxkIGhhdmUgdG8gY3JlYXRlIGl0IGFzeW5jaHJvbm91c2x5LlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIHNhZmUgdG8gY2FsbCByZXBlYXRlZGx5LlxuICAgKiBFYWNoIHRpbWUgaXQgc2hvdWxkIHJldHVybiBhIG5ldyBvYmplY3Qgd2l0aCBuZXcgYXJyYXlzIGNvbnRhaW5pbmcgbmV3IGl0ZW0gb2JqZWN0cy5cbiAgICogVGhpcyBjb25kaXRpb24gYWxsb3dzIHRoZSBpbi1tZW1vcnkgYmFja2VuZCBzZXJ2aWNlIHRvIG11dGF0ZSB0aGUgY29sbGVjdGlvbnNcbiAgICogYW5kIHRoZWlyIGl0ZW1zIHdpdGhvdXQgdG91Y2hpbmcgdGhlIG9yaWdpbmFsIHNvdXJjZSBkYXRhLlxuICAgKlxuICAgKiBUaGUgaW4tbWVtIGJhY2tlbmQgc2VydmljZSBjYWxscyB0aGlzIG1ldGhvZCB3aXRob3V0IGEgdmFsdWUgdGhlIGZpcnN0IHRpbWUuXG4gICAqIFRoZSBzZXJ2aWNlIGNhbGxzIGl0IHdpdGggdGhlIGBSZXF1ZXN0SW5mb2Agd2hlbiBpdCByZWNlaXZlcyBhIFBPU1QgYGNvbW1hbmRzL3Jlc2V0RGJgIHJlcXVlc3QuXG4gICAqIFlvdXIgSW5NZW1vcnlEYlNlcnZpY2UgY2FuIGFkanVzdCBpdHMgYmVoYXZpb3IgYWNjb3JkaW5nbHkuXG4gICAqL1xuICBhYnN0cmFjdCBjcmVhdGVEYihyZXFJbmZvPzogUmVxdWVzdEluZm8pOiB7fXxPYnNlcnZhYmxlPHt9PnxQcm9taXNlPHt9Pjtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIEluTWVtb3J5QmFja2VuZCBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEluTWVtb3J5QmFja2VuZENvbmZpZ0FyZ3Mge1xuICAvKipcbiAgICogVGhlIGJhc2UgcGF0aCB0byB0aGUgYXBpLCBlLmcsICdhcGkvJy5cbiAgICogSWYgbm90IHNwZWNpZmllZCB0aGFuIGBwYXJzZVJlcXVlc3RVcmxgIGFzc3VtZXMgaXQgaXMgdGhlIGZpcnN0IHBhdGggc2VnbWVudCBpbiB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGFwaUJhc2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBmYWxzZSAoZGVmYXVsdCkgaWYgc2VhcmNoIG1hdGNoIHNob3VsZCBiZSBjYXNlIGluc2Vuc2l0aXZlXG4gICAqL1xuICBjYXNlU2Vuc2l0aXZlU2VhcmNoPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGZhbHNlIChkZWZhdWx0KSBwdXQgY29udGVudCBkaXJlY3RseSBpbnNpZGUgdGhlIHJlc3BvbnNlIGJvZHkuXG4gICAqIHRydWU6IGVuY2Fwc3VsYXRlIGNvbnRlbnQgaW4gYSBgZGF0YWAgcHJvcGVydHkgaW5zaWRlIHRoZSByZXNwb25zZSBib2R5LCBgeyBkYXRhOiAuLi4gfWAuXG4gICAqL1xuICBkYXRhRW5jYXBzdWxhdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBkZWxheSAoaW4gbXMpIHRvIHNpbXVsYXRlIGxhdGVuY3lcbiAgICovXG4gIGRlbGF5PzogbnVtYmVyO1xuICAvKipcbiAgICogZmFsc2UgKGRlZmF1bHQpIHNob3VsZCAyMDQgd2hlbiBvYmplY3QtdG8tZGVsZXRlIG5vdCBmb3VuZDsgdHJ1ZTogNDA0XG4gICAqL1xuICBkZWxldGU0MDQ/OiBib29sZWFuO1xuICAvKipcbiAgICogaG9zdCBmb3IgdGhpcyBzZXJ2aWNlLCBlLmcuLCAnbG9jYWxob3N0J1xuICAgKi9cbiAgaG9zdD86IHN0cmluZztcbiAgLyoqXG4gICAqIGZhbHNlIChkZWZhdWx0KSBzaG91bGQgcGFzcyB1bnJlY29nbml6ZWQgcmVxdWVzdCBVUkwgdGhyb3VnaCB0byBvcmlnaW5hbCBiYWNrZW5kOyB0cnVlOiA0MDRcbiAgICovXG4gIHBhc3NUaHJ1VW5rbm93blVybD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiB0cnVlIChkZWZhdWx0KSBzaG91bGQgTk9UIHJldHVybiB0aGUgaXRlbSAoMjA0KSBhZnRlciBhIFBPU1QuIGZhbHNlOiByZXR1cm4gdGhlIGl0ZW0gKDIwMCkuXG4gICAqL1xuICBwb3N0MjA0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGZhbHNlIChkZWZhdWx0KSBzaG91bGQgTk9UIHVwZGF0ZSBleGlzdGluZyBpdGVtIHdpdGggUE9TVC4gZmFsc2U6IE9LIHRvIHVwZGF0ZS5cbiAgICovXG4gIHBvc3Q0MDk/OiBib29sZWFuO1xuICAvKipcbiAgICogdHJ1ZSAoZGVmYXVsdCkgc2hvdWxkIE5PVCByZXR1cm4gdGhlIGl0ZW0gKDIwNCkgYWZ0ZXIgYSBQT1NULiBmYWxzZTogcmV0dXJuIHRoZSBpdGVtICgyMDApLlxuICAgKi9cbiAgcHV0MjA0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGZhbHNlIChkZWZhdWx0KSBpZiBpdGVtIG5vdCBmb3VuZCwgY3JlYXRlIGFzIG5ldyBpdGVtOyBmYWxzZTogc2hvdWxkIDQwNC5cbiAgICovXG4gIHB1dDQwND86IGJvb2xlYW47XG4gIC8qKlxuICAgKiByb290IHBhdGggX2JlZm9yZV8gYW55IEFQSSBjYWxsLCBlLmcuLCAnJ1xuICAgKi9cbiAgcm9vdFBhdGg/OiBzdHJpbmc7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiAgSW5NZW1vcnlCYWNrZW5kU2VydmljZSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAqICBVc2FnZTpcbiAqICAgIEluTWVtb3J5V2ViQXBpTW9kdWxlLmZvclJvb3QoSW5NZW1IZXJvU2VydmljZSwge2RlbGF5OiA2MDB9KVxuICpcbiAqICBvciBpZiBwcm92aWRpbmcgc2VwYXJhdGVseTpcbiAqICAgIHByb3ZpZGUoSW5NZW1vcnlCYWNrZW5kQ29uZmlnLCB7dXNlVmFsdWU6IHtkZWxheTogNjAwfX0pLFxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlCYWNrZW5kQ29uZmlnIGltcGxlbWVudHMgSW5NZW1vcnlCYWNrZW5kQ29uZmlnQXJncyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogSW5NZW1vcnlCYWNrZW5kQ29uZmlnQXJncyA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgdGhpcywge1xuICAgICAgICAgIC8vIGRlZmF1bHQgY29uZmlnOlxuICAgICAgICAgIGNhc2VTZW5zaXRpdmVTZWFyY2g6IGZhbHNlLFxuICAgICAgICAgIGRhdGFFbmNhcHN1bGF0aW9uOiBmYWxzZSwgICAvLyBkbyBOT1Qgd3JhcCBjb250ZW50IHdpdGhpbiBhbiBvYmplY3Qgd2l0aCBhIGBkYXRhYCBwcm9wZXJ0eVxuICAgICAgICAgIGRlbGF5OiA1MDAsICAgICAgICAgICAgICAgICAvLyBzaW11bGF0ZSBsYXRlbmN5IGJ5IGRlbGF5aW5nIHJlc3BvbnNlXG4gICAgICAgICAgZGVsZXRlNDA0OiBmYWxzZSwgICAgICAgICAgIC8vIGRvbid0IGNvbXBsYWluIGlmIGNhbid0IGZpbmQgZW50aXR5IHRvIGRlbGV0ZVxuICAgICAgICAgIHBhc3NUaHJ1VW5rbm93blVybDogZmFsc2UsICAvLyA0MDQgaWYgY2FuJ3QgcHJvY2VzcyBVUkxcbiAgICAgICAgICBwb3N0MjA0OiB0cnVlLCAgICAgICAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIHRoZSBpdGVtIGFmdGVyIGEgUE9TVFxuICAgICAgICAgIHBvc3Q0MDk6IGZhbHNlLCAgICAgICAgICAgICAvLyBkb24ndCB1cGRhdGUgZXhpc3RpbmcgaXRlbSB3aXRoIHRoYXQgSURcbiAgICAgICAgICBwdXQyMDQ6IHRydWUsICAgICAgICAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIHRoZSBpdGVtIGFmdGVyIGEgUFVUXG4gICAgICAgICAgcHV0NDA0OiBmYWxzZSwgICAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgaXRlbSBpZiBQVVQgaXRlbSB3aXRoIHRoYXQgSUQgbm90IGZvdW5kXG4gICAgICAgICAgYXBpQmFzZTogdW5kZWZpbmVkLCAgICAgICAgIC8vIGFzc3VtZWQgdG8gYmUgdGhlIGZpcnN0IHBhdGggc2VnbWVudFxuICAgICAgICAgIGhvc3Q6IHVuZGVmaW5lZCwgICAgIC8vIGRlZmF1bHQgdmFsdWUgaXMgYWN0dWFsbHkgc2V0IGluIEluTWVtb3J5QmFja2VuZFNlcnZpY2UgY3RvclxuICAgICAgICAgIHJvb3RQYXRoOiB1bmRlZmluZWQgIC8vIGRlZmF1bHQgdmFsdWUgaXMgYWN0dWFsbHkgc2V0IGluIEluTWVtb3J5QmFja2VuZFNlcnZpY2UgY3RvclxuICAgICAgICB9LFxuICAgICAgICBjb25maWcpO1xuICB9XG59XG5cbi8qKiBSZXR1cm4gaW5mb3JtYXRpb24gKFVyaUluZm8pIGFib3V0IGEgVVJJICAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJpKHN0cjogc3RyaW5nKTogVXJpSW5mbyB7XG4gIC8vIEFkYXB0ZWQgZnJvbSBwYXJzZXVyaSBwYWNrYWdlIC0gaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL3BhcnNldXJpXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgY29uc3QgVVJMX1JFR0VYID1cbiAgICAgIC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbiAgY29uc3QgbSA9IFVSTF9SRUdFWC5leGVjKHN0cik7XG4gIGNvbnN0IHVyaTogVXJpSW5mbyZ7W2tleTogc3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgICBzb3VyY2U6ICcnLFxuICAgIHByb3RvY29sOiAnJyxcbiAgICBhdXRob3JpdHk6ICcnLFxuICAgIHVzZXJJbmZvOiAnJyxcbiAgICB1c2VyOiAnJyxcbiAgICBwYXNzd29yZDogJycsXG4gICAgaG9zdDogJycsXG4gICAgcG9ydDogJycsXG4gICAgcmVsYXRpdmU6ICcnLFxuICAgIHBhdGg6ICcnLFxuICAgIGRpcmVjdG9yeTogJycsXG4gICAgZmlsZTogJycsXG4gICAgcXVlcnk6ICcnLFxuICAgIGFuY2hvcjogJydcbiAgfTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHVyaSk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHVyaVtrZXlzW2ldXSA9IG0gJiYgbVtpXSB8fCAnJztcbiAgfVxuICByZXR1cm4gdXJpO1xufVxuXG4vKipcbiAqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSByZXN1bHQgb2YgdGhlIGBwYXJzZVJlcXVlc3RVcmxgIG1ldGhvZDpcbiAqICAgR2l2ZW4gVVJMIFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9jdXN0b21lcnMvNDI/Zm9vPTEgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJuc1xuICogICAgIGJhc2U6ICdhcGkvJ1xuICogICAgIGNvbGxlY3Rpb25OYW1lOiAnY3VzdG9tZXJzJ1xuICogICAgIGlkOiAnNDInXG4gKiAgICAgcXVlcnk6IHRoaXMuY3JlYXRlUXVlcnkoJ2Zvbz0xJylcbiAqICAgICByZXNvdXJjZVVybDogJ2h0dHA6Ly9sb2NhbGhvc3QvYXBpL2N1c3RvbWVycy8nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkUmVxdWVzdFVybCB7XG4gIGFwaUJhc2U6IHN0cmluZzsgICAgICAgICAgICAgICAvLyB0aGUgc2xhc2gtdGVybWluYXRlZCBcImJhc2VcIiBmb3IgYXBpIHJlcXVlc3RzIChlLmcuIGBhcGkvYClcbiAgY29sbGVjdGlvbk5hbWU6IHN0cmluZzsgICAgICAgIC8vIHRoZSBuYW1lIG9mIHRoZSBjb2xsZWN0aW9uIG9mIGRhdGEgaXRlbXMgKGUuZy4sYGN1c3RvbWVyc2ApXG4gIGlkOiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgICAvLyB0aGUgKG9wdGlvbmFsKSBpZCBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvbiAoZS5nLiwgYDQyYClcbiAgcXVlcnk6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjsgIC8vIHRoZSBxdWVyeSBwYXJhbWV0ZXJzO1xuICByZXNvdXJjZVVybDpcbiAgICAgIHN0cmluZzsgIC8vIHRoZSBlZmZlY3RpdmUgVVJMIGZvciB0aGUgcmVzb3VyY2UgKGUuZy4sICdodHRwOi8vbG9jYWxob3N0L2FwaS9jdXN0b21lcnMvJylcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXNzVGhydUJhY2tlbmQge1xuICAvKipcbiAgICogSGFuZGxlIGFuIEhUVFAgcmVxdWVzdCBhbmQgcmV0dXJuIGFuIE9ic2VydmFibGUgb2YgSFRUUCByZXNwb25zZVxuICAgKiBCb3RoIHRoZSByZXF1ZXN0IHR5cGUgYW5kIHRoZSByZXNwb25zZSB0eXBlIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBzdXBwb3J0aW5nIEhUVFAgbGlicmFyeS5cbiAgICovXG4gIGhhbmRsZShyZXE6IGFueSk6IE9ic2VydmFibGU8YW55Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRyYWlsaW5nU2xhc2gocGF0aDogc3RyaW5nKSB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG59XG5cbi8qKlxuICogIE1pbmltdW0gZGVmaW5pdGlvbiBuZWVkZWQgYnkgYmFzZSBjbGFzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RDb3JlIHtcbiAgdXJsOiBzdHJpbmc7ICAgICAgICAgICAgIC8vIHJlcXVlc3QgVVJMXG4gIHVybFdpdGhQYXJhbXM/OiBzdHJpbmc7ICAvLyByZXF1ZXN0IFVSTCB3aXRoIHF1ZXJ5IHBhcmFtZXRlcnMgYWRkZWQgYnkgYEh0dHBQYXJhbXNgXG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBvYmplY3Qgdy8gaW5mbyBhYm91dCB0aGUgY3VycmVudCByZXF1ZXN0IHVybFxuICogZXh0cmFjdGVkIGZyb20gYW4gSHR0cCBSZXF1ZXN0LlxuICogQWxzbyBob2xkcyB1dGlsaXR5IG1ldGhvZHMgYW5kIGNvbmZpZ3VyYXRpb24gZGF0YSBmcm9tIHRoaXMgc2VydmljZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RJbmZvIHtcbiAgcmVxOiBSZXF1ZXN0Q29yZTsgIC8vIGNvbmNyZXRlIHR5cGUgZGVwZW5kcyB1cG9uIHRoZSBIdHRwIGxpYnJhcnlcbiAgYXBpQmFzZTogc3RyaW5nO1xuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nO1xuICBjb2xsZWN0aW9uOiBhbnk7XG4gIGhlYWRlcnM6IEh0dHBIZWFkZXJzO1xuICBtZXRob2Q6IHN0cmluZztcbiAgaWQ6IGFueTtcbiAgcXVlcnk6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgcmVzb3VyY2VVcmw6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7ICAvLyByZXF1ZXN0IFVSTFxuICB1dGlsczogUmVxdWVzdEluZm9VdGlsaXRpZXM7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB1dGlsaXR5IG1ldGhvZHMgZnJvbSB0aGlzIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBVc2VmdWwgd2l0aGluIGFuIEhUVFAgbWV0aG9kIG92ZXJyaWRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEluZm9VdGlsaXRpZXMge1xuICAvKipcbiAgICogQ3JlYXRlIGEgY29sZCByZXNwb25zZSBPYnNlcnZhYmxlIGZyb20gYSBmYWN0b3J5IGZvciBSZXNwb25zZU9wdGlvbnNcbiAgICogdGhlIHNhbWUgd2F5IHRoYXQgdGhlIGluLW1lbSBiYWNrZW5kIHNlcnZpY2UgZG9lcy5cbiAgICogQHBhcmFtIHJlc09wdGlvbnNGYWN0b3J5IC0gY3JlYXRlcyBSZXNwb25zZU9wdGlvbnMgd2hlbiBvYnNlcnZhYmxlIGlzIHN1YnNjcmliZWRcbiAgICogQHBhcmFtIHdpdGhEZWxheSAtIGlmIHRydWUgKGRlZmF1bHQpLCBhZGQgc2ltdWxhdGVkIGxhdGVuY3kgZGVsYXkgZnJvbSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBjcmVhdGVSZXNwb25zZSQ6IChyZXNPcHRpb25zRmFjdG9yeTogKCkgPT4gUmVzcG9uc2VPcHRpb25zKSA9PiBPYnNlcnZhYmxlPGFueT47XG5cbiAgLyoqXG4gICAqIEZpbmQgZmlyc3QgaW5zdGFuY2Ugb2YgaXRlbSBpbiBjb2xsZWN0aW9uIGJ5IGBpdGVtLmlkYFxuICAgKiBAcGFyYW0gY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaWRcbiAgICovXG4gIGZpbmRCeUlkPFQgZXh0ZW5kcyB7aWQ6IGFueX0+KGNvbGxlY3Rpb246IFRbXSwgaWQ6IGFueSk6IFR8dW5kZWZpbmVkO1xuXG4gIC8qKiByZXR1cm4gdGhlIGN1cnJlbnQsIGFjdGl2ZSBjb25maWd1cmF0aW9uIHdoaWNoIGlzIGEgYmxlbmQgb2YgZGVmYXVsdHMgYW5kIG92ZXJyaWRlcyAqL1xuICBnZXRDb25maWcoKTogSW5NZW1vcnlCYWNrZW5kQ29uZmlnQXJncztcblxuICAvKiogR2V0IHRoZSBpbi1tZW0gc2VydmljZSdzIGNvcHkgb2YgdGhlIFwiZGF0YWJhc2VcIiAqL1xuICBnZXREYigpOiB7fTtcblxuICAvKiogR2V0IEpTT04gYm9keSBmcm9tIHRoZSByZXF1ZXN0IG9iamVjdCAqL1xuICBnZXRKc29uQm9keShyZXE6IGFueSk6IGFueTtcblxuICAvKiogR2V0IGxvY2F0aW9uIGluZm8gZnJvbSBhIHVybCwgZXZlbiBvbiBzZXJ2ZXIgd2hlcmUgYGRvY3VtZW50YCBpcyBub3QgZGVmaW5lZCAqL1xuICBnZXRMb2NhdGlvbih1cmw6IHN0cmluZyk6IFVyaUluZm87XG5cbiAgLyoqIEdldCAob3IgY3JlYXRlKSB0aGUgXCJyZWFsXCIgYmFja2VuZCAqL1xuICBnZXRQYXNzVGhydUJhY2tlbmQoKTogUGFzc1RocnVCYWNrZW5kO1xuXG4gIC8qKlxuICAgKiByZXR1cm4gdHJ1ZSBpZiBjYW4gZGV0ZXJtaW5lIHRoYXQgdGhlIGNvbGxlY3Rpb24ncyBgaXRlbS5pZGAgaXMgYSBudW1iZXJcbiAgICogKi9cbiAgaXNDb2xsZWN0aW9uSWROdW1lcmljPFQgZXh0ZW5kcyB7aWQ6IGFueX0+KGNvbGxlY3Rpb246IFRbXSwgY29sbGVjdGlvbk5hbWU6IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgcmVxdWVzdCBVUkwgaW50byBhIGBQYXJzZWRSZXF1ZXN0VXJsYCBvYmplY3QuXG4gICAqIFBhcnNpbmcgZGVwZW5kcyB1cG9uIGNlcnRhaW4gdmFsdWVzIG9mIGBjb25maWdgOiBgYXBpQmFzZWAsIGBob3N0YCwgYW5kIGB1cmxSb290YC5cbiAgICovXG4gIHBhcnNlUmVxdWVzdFVybCh1cmw6IHN0cmluZyk6IFBhcnNlZFJlcXVlc3RVcmw7XG59XG5cbi8qKlxuICogUHJvdmlkZSBhIGByZXNwb25zZUludGVyY2VwdG9yYCBtZXRob2Qgb2YgdGhpcyB0eXBlIGluIHlvdXIgYGluTWVtRGJTZXJ2aWNlYCB0b1xuICogbW9ycGggdGhlIHJlc3BvbnNlIG9wdGlvbnMgY3JlYXRlZCBpbiB0aGUgYGNvbGxlY3Rpb25IYW5kbGVyYC5cbiAqL1xuZXhwb3J0IHR5cGUgUmVzcG9uc2VJbnRlcmNlcHRvciA9IChyZXM6IFJlc3BvbnNlT3B0aW9ucywgcmk6IFJlcXVlc3RJbmZvKSA9PiBSZXNwb25zZU9wdGlvbnM7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIFN0cmluZywgT2JqZWN0LCBBcnJheUJ1ZmZlciBvciBCbG9iIHJlcHJlc2VudGluZyB0aGUgYm9keSBvZiB0aGUge0BsaW5rIFJlc3BvbnNlfS5cbiAgICovXG4gIGJvZHk/OiBzdHJpbmd8T2JqZWN0fEFycmF5QnVmZmVyfEJsb2I7XG5cbiAgLyoqXG4gICAqIFJlc3BvbnNlIGhlYWRlcnNcbiAgICovXG4gIGhlYWRlcnM/OiBIdHRwSGVhZGVycztcblxuICAvKipcbiAgICogSHR0cCB7QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjMTAuaHRtbCBzdGF0dXMgY29kZX1cbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHN0YXR1cz86IG51bWJlcjtcblxuICAvKipcbiAgICogU3RhdHVzIHRleHQgZm9yIHRoZSBzdGF0dXMgY29kZVxuICAgKi9cbiAgc3RhdHVzVGV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqIHJlcXVlc3QgdXJsXG4gICAqL1xuICB1cmw/OiBzdHJpbmc7XG59XG5cbi8qKiBJbnRlcmZhY2Ugb2YgaW5mb3JtYXRpb24gYWJvdXQgYSBVcmkgICovXG5leHBvcnQgaW50ZXJmYWNlIFVyaUluZm8ge1xuICBzb3VyY2U6IHN0cmluZztcbiAgcHJvdG9jb2w6IHN0cmluZztcbiAgYXV0aG9yaXR5OiBzdHJpbmc7XG4gIHVzZXJJbmZvOiBzdHJpbmc7XG4gIHVzZXI6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgaG9zdDogc3RyaW5nO1xuICBwb3J0OiBzdHJpbmc7XG4gIHJlbGF0aXZlOiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbiAgZGlyZWN0b3J5OiBzdHJpbmc7XG4gIGZpbGU6IHN0cmluZztcbiAgcXVlcnk6IHN0cmluZztcbiAgYW5jaG9yOiBzdHJpbmc7XG59XG4iXX0=